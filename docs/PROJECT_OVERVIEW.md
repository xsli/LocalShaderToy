# Local Shadertoy é¡¹ç›®æ€»ç»“ä¸æ¶æ„å›¾

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**Local Shadertoy** æ˜¯ä¸€ä¸ªæœ¬åœ°è¿è¡Œçš„ Shadertoy å…¼å®¹æ¸²æŸ“å™¨ï¼Œæ”¯æŒï¼š
- âœ… Shadertoy æ ‡å‡† uniformï¼ˆiTime, iResolution, iMouse, iDate ç­‰ï¼‰
- âœ… Multi-pass æ¸²æŸ“ï¼ˆBuffer A/B/C/D + Imageï¼‰
- âœ… Windows å±ä¿æ¨¡å¼ï¼ˆ.scr æ ¼å¼ï¼‰
- âœ… å†…ç½®ç¼–è¾‘å™¨ä¸å®æ—¶é¢„è§ˆ
- âœ… å¤š Profile ç®¡ç†ä¸éšæœºåˆ‡æ¢

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main.cpp                    # ç¨‹åºå…¥å£ï¼Œæ¨¡å¼åˆ†å‘
â”œâ”€â”€ core/                       # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ Application.cpp/h       # GLFW çª—å£ç®¡ç†ã€ä¸»å¾ªç¯
â”‚   â”œâ”€â”€ UniformManager.cpp/h    # Shadertoy uniform ç®¡ç†
â”‚   â”œâ”€â”€ ShaderEngine.cpp/h      # ç€è‰²å™¨ç¼–è¯‘ï¼ˆå• Passï¼‰
â”‚   â”œâ”€â”€ ShaderProject.cpp/h     # é¡¹ç›®æ•°æ®ç»“æ„ï¼ˆJSON åºåˆ—åŒ–ï¼‰
â”‚   â”œâ”€â”€ ProjectManager.cpp/h    # é¡¹ç›®åŠ è½½/ä¿å­˜/å¯¼å…¥å¯¼å‡º
â”‚   â””â”€â”€ ScreensaverMode.cpp/h   # å±ä¿é…ç½®ä¸å‘½ä»¤è¡Œè§£æ
â”œâ”€â”€ renderer/                   # æ¸²æŸ“æ¨¡å—
â”‚   â”œâ”€â”€ MultiPassRenderer.cpp/h # å¤š Pass æ¸²æŸ“ç®¡ç†
â”‚   â”œâ”€â”€ BufferManager.cpp/h     # FBO åŒç¼“å†²ç®¡ç†
â”‚   â”œâ”€â”€ Framebuffer.cpp/h       # å•ä¸ª FBO å°è£…
â”‚   â”œâ”€â”€ Renderer.cpp/h          # å…¨å±å››è¾¹å½¢ç»˜åˆ¶
â”‚   â”œâ”€â”€ TextureManager.cpp/h    # çº¹ç†èµ„æºç®¡ç†
â”‚   â”œâ”€â”€ Texture.cpp/h           # å•ä¸ªçº¹ç†å°è£…
â”‚   â””â”€â”€ NoiseGenerator.cpp/h    # ç¨‹åºåŒ–å™ªå£°ç”Ÿæˆ
â”œâ”€â”€ ui/                         # UI æ¨¡å—
â”‚   â”œâ”€â”€ UIManager.cpp/h         # ImGui UI æ¡†æ¶
â”‚   â””â”€â”€ ShaderEditor.cpp/h      # ä»£ç ç¼–è¾‘å™¨ç»„ä»¶
â”œâ”€â”€ transpiler/                 # ç€è‰²å™¨è½¬è¯‘
â”‚   â””â”€â”€ GLSLTranspiler.cpp/h    # GLSL ä»£ç é¢„å¤„ç†
â”œâ”€â”€ input/                      # è¾“å…¥æ¨¡å—
â”‚   â””â”€â”€ ResourceLoader.cpp/h    # èµ„æºåŠ è½½å™¨
â””â”€â”€ utils/                      # å·¥å…·æ¨¡å—
    â”œâ”€â”€ FileUtils.cpp/h         # æ–‡ä»¶æ“ä½œ
    â”œâ”€â”€ FileDialog.cpp/h        # æ–‡ä»¶å¯¹è¯æ¡†
    â””â”€â”€ Timer.cpp/h             # é«˜ç²¾åº¦è®¡æ—¶å™¨
```

---

## ğŸ”„ ç¨‹åºè¿è¡Œæµç¨‹å›¾

### ä¸»ç¨‹åºå…¥å£æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         main()                                   â”‚
â”‚                    [src/main.cpp]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   è§£æå‘½ä»¤è¡Œå‚æ•°         â”‚
                â”‚   parseCommandLine()    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                   â”‚                   â”‚
          â–¼                   â–¼                   â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  /s å±ä¿æ¨¡å¼  â”‚   â”‚  /c é…ç½®æ¨¡å¼  â”‚   â”‚  æ— å‚æ•°/ç¼–è¾‘å™¨ â”‚
   â”‚  Screensaver â”‚   â”‚  Configure   â”‚   â”‚   Editor     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                   â”‚                   â”‚
          â–¼                   â–¼                   â–¼
   runScreensaverMode()  runConfigureMode()  runEditorMode()
```

---

### å±ä¿æ¨¡å¼æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    runScreensaverMode()                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  åŠ è½½å±ä¿é…ç½®             â”‚
                â”‚  loadConfig()            â”‚
                â”‚  [screensaver.json]      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  åˆ›å»ºå…¨å±çª—å£            â”‚
                â”‚  Application.init()      â”‚
                â”‚  glfwCreateWindow()      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  åˆå§‹åŒ–æ¸²æŸ“å™¨            â”‚
                â”‚  MultiPassRenderer.init()â”‚
                â”‚  BufferManager.init()    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  åŠ è½½æ´»åŠ¨ Profile        â”‚
                â”‚  loadProfileToMultiPass()â”‚
                â”‚  ç¼–è¯‘æ‰€æœ‰ Pass           â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            ä¸»æ¸²æŸ“å¾ªç¯                   â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚  while (!shouldClose)            â”‚  â”‚
         â”‚  â”‚  â”œâ”€â”€ æ›´æ–° Uniform                â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ setTime()               â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ setResolution()         â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ setFrame()              â”‚  â”‚
         â”‚  â”‚  â”‚   â””â”€â”€ updateDate()            â”‚  â”‚
         â”‚  â”‚  â”‚                               â”‚  â”‚
         â”‚  â”‚  â”œâ”€â”€ æ¸²æŸ“å¤š Pass                 â”‚  â”‚
         â”‚  â”‚  â”‚   multiPassRenderer.render()  â”‚  â”‚
         â”‚  â”‚  â”‚                               â”‚  â”‚
         â”‚  â”‚  â”œâ”€â”€ æ£€æŸ¥éšæœºåˆ‡æ¢                â”‚  â”‚
         â”‚  â”‚  â”‚   (shuffleEnabled &&          â”‚  â”‚
         â”‚  â”‚  â”‚    time > interval)           â”‚  â”‚
         â”‚  â”‚  â”‚                               â”‚  â”‚
         â”‚  â”‚  â””â”€â”€ glfwSwapBuffers()           â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  æ¸…ç†èµ„æº                â”‚
                â”‚  Application.shutdown() â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Multi-Pass æ¸²æŸ“æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                MultiPassRenderer.render()                        â”‚
â”‚                [renderer/MultiPassRenderer.cpp]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   Buffer Pass æ¸²æŸ“                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚  for each (BufferA, BufferB, BufferC, BufferD)    â”‚  â”‚
    â”‚  â”‚  â”œâ”€â”€ æ£€æŸ¥ Pass æ˜¯å¦å¯ç”¨                           â”‚  â”‚
    â”‚  â”‚  â”œâ”€â”€ ç»‘å®š FBO (å‰ç¼“å†²)                            â”‚  â”‚
    â”‚  â”‚  â”‚   bufferPass.bindForRender()                   â”‚  â”‚
    â”‚  â”‚  â”œâ”€â”€ ç»‘å®šè¾“å…¥é€šé“çº¹ç†                             â”‚  â”‚
    â”‚  â”‚  â”‚   (åç¼“å†²æˆ–å…¶ä»– Buffer)                        â”‚  â”‚
    â”‚  â”‚  â”œâ”€â”€ è®¾ç½® Uniform                                 â”‚  â”‚
    â”‚  â”‚  â”‚   uniformManager.applyUniforms()               â”‚  â”‚
    â”‚  â”‚  â”œâ”€â”€ æ¸²æŸ“å…¨å±å››è¾¹å½¢                               â”‚  â”‚
    â”‚  â”‚  â”‚   renderer.renderFullscreenQuad()              â”‚  â”‚
    â”‚  â”‚  â””â”€â”€ äº¤æ¢å‰åç¼“å†²                                 â”‚  â”‚
    â”‚  â”‚      bufferPass.swap()                            â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   Image Pass æ¸²æŸ“                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚  ç»‘å®šåˆ°é»˜è®¤å¸§ç¼“å†² (å±å¹•)                          â”‚  â”‚
    â”‚  â”‚  glBindFramebuffer(GL_FRAMEBUFFER, 0)             â”‚  â”‚
    â”‚  â”‚  â”œâ”€â”€ ç»‘å®š Buffer çº¹ç†åˆ° iChannel                  â”‚  â”‚
    â”‚  â”‚  â”œâ”€â”€ è®¾ç½® Uniform                                 â”‚  â”‚
    â”‚  â”‚  â””â”€â”€ æ¸²æŸ“å…¨å±å››è¾¹å½¢                               â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Buffer åŒç¼“å†²æœºåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BufferPass ç»“æ„                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚    FBO 0 (å‰ç¼“å†²)     â”‚    â”‚    FBO 1 (åç¼“å†²)     â”‚          â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚          â”‚
â”‚  â”‚   â”‚   Texture    â”‚   â”‚    â”‚   â”‚   Texture    â”‚   â”‚          â”‚
â”‚  â”‚   â”‚   (æ¸²æŸ“ç›®æ ‡)  â”‚   â”‚    â”‚   â”‚   (é‡‡æ ·æº)    â”‚   â”‚          â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚  æ¸²æŸ“æ—¶: å†™å…¥ FBO[current] â”€â”€â–º è¯»å– FBO[1-current]              â”‚
â”‚  æ¯å¸§å: swap() â”€â”€â–º current = 1 - current                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Uniform æ›´æ–°æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UniformManager                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                       â”‚                       â”‚
      â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ setTime()    â”‚      â”‚ setMouse()   â”‚      â”‚ updateDate() â”‚
â”‚ setFrame()   â”‚      â”‚              â”‚      â”‚              â”‚
â”‚ setTimeDelta â”‚      â”‚              â”‚      â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                       â”‚                       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   applyUniforms()       â”‚
                â”‚   glUniform*() è°ƒç”¨     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         ä¼ é€’åˆ° Shader                    â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  uniform vec3 iResolution;        â”‚  â”‚
        â”‚  â”‚  uniform float iTime;             â”‚  â”‚
        â”‚  â”‚  uniform float iTimeDelta;        â”‚  â”‚
        â”‚  â”‚  uniform int iFrame;              â”‚  â”‚
        â”‚  â”‚  uniform vec4 iMouse;             â”‚  â”‚
        â”‚  â”‚  uniform vec4 iDate;              â”‚  â”‚
        â”‚  â”‚  uniform sampler2D iChannel0-3;   â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ç¼–è¾‘å™¨æ¨¡å¼æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     runEditorMode()                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  åˆ›å»ºçª—å£ 1280x720       â”‚
                â”‚  åˆå§‹åŒ– ImGui           â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            ä¸»å¾ªç¯                       â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚  while (!shouldClose)            â”‚  â”‚
         â”‚  â”‚  â”œâ”€â”€ å¤„ç†è¾“å…¥                    â”‚  â”‚
         â”‚  â”‚  â”œâ”€â”€ æ›´æ–° Uniform                â”‚  â”‚
         â”‚  â”‚  â”‚                               â”‚  â”‚
         â”‚  â”‚  â”œâ”€â”€ æ¸²æŸ“ Shader                 â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ Multi-pass æ¨¡å¼        â”‚  â”‚
         â”‚  â”‚  â”‚   â””â”€â”€ æˆ– Single-pass æ¨¡å¼    â”‚  â”‚
         â”‚  â”‚  â”‚                               â”‚  â”‚
         â”‚  â”‚  â”œâ”€â”€ æ¸²æŸ“ ImGui UI               â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ èœå•æ                   â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ ä»£ç ç¼–è¾‘å™¨              â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ Pass é€‰æ‹©é¢æ¿           â”‚  â”‚
         â”‚  â”‚  â”‚   â”œâ”€â”€ çº¹ç†ç»‘å®šé¢æ¿            â”‚  â”‚
         â”‚  â”‚  â”‚   â””â”€â”€ é”™è¯¯è¾“å‡ºçª—å£            â”‚  â”‚
         â”‚  â”‚  â”‚                               â”‚  â”‚
         â”‚  â”‚  â””â”€â”€ glfwSwapBuffers()           â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ æ ¸å¿ƒç±»å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              main.cpp                               â”‚
â”‚                         (ç¨‹åºå…¥å£ & æ¨¡å¼åˆ†å‘)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                       â”‚                       â”‚
           â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Application   â”‚     â”‚  UniformManager â”‚     â”‚ MultiPassRendererâ”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ GLFW çª—å£  â”‚  â”‚     â”‚  â”‚ iTime     â”‚  â”‚     â”‚  â”‚ PassStatesâ”‚  â”‚
â”‚  â”‚ ä¸»å¾ªç¯    â”‚  â”‚     â”‚  â”‚ iMouse    â”‚  â”‚     â”‚  â”‚ Commonä»£ç â”‚  â”‚
â”‚  â”‚ è¾“å…¥å¤„ç†  â”‚  â”‚     â”‚  â”‚ iDate     â”‚  â”‚     â”‚  â”‚           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â”‚ ...       â”‚  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                        â”‚
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                               â”‚                        â”‚
                               â–¼                        â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  BufferManager  â”‚      â”‚   ShaderEngine  â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚ BufferA-D â”‚  â”‚      â”‚  â”‚ ç¼–è¯‘é“¾æ¥  â”‚  â”‚
                    â”‚  â”‚ åŒç¼“å†²    â”‚  â”‚      â”‚  â”‚ é”™è¯¯å¤„ç†  â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Framebuffer   â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚ FBO       â”‚  â”‚
                    â”‚  â”‚ Texture   â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ TextureManager  â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚ å†…ç½®çº¹ç†  â”‚  â”‚
                    â”‚  â”‚ å™ªå£°ç”Ÿæˆ  â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ å…³é”®æ•°æ®ç»“æ„

### ScreensaverProfile
```cpp
struct ScreensaverProfile {
    std::string name;           // Profile åç§°
    std::string shaderCode;     // å…¼å®¹æ—§ç‰ˆå• Pass ä»£ç 
    std::vector<PassConfig> passes;  // å¤š Pass é…ç½®
    bool enabled = true;        // æ˜¯å¦å‚ä¸éšæœº
};
```

### PassConfig
```cpp
struct PassConfig {
    ShaderPassType type;        // Image/BufferA/B/C/D/Common
    std::string code;           // GLSL ä»£ç 
    int channels[4] = {-1,-1,-1,-1};  // çº¹ç†ç»‘å®š
};
```

### ShadertoyUniforms
```cpp
struct ShadertoyUniforms {
    glm::vec3 iResolution;      // (width, height, 1.0)
    float iTime;                // ç§’
    float iTimeDelta;           // å¸§é—´éš”
    int iFrame;                 // å¸§è®¡æ•°
    glm::vec4 iMouse;           // (x, y, clickX, clickY)
    glm::vec4 iDate;            // (year, month, day, seconds)
    float iSampleRate;          // 44100.0
    glm::vec3 iChannelResolution[4];
    float iChannelTime[4];
};
```

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

| åŠŸèƒ½ | å…¥å£å‡½æ•° | å…³é”®æ–‡ä»¶ |
|------|----------|----------|
| å±ä¿æ¨¡å¼ | `runScreensaverMode()` | main.cpp |
| ç¼–è¾‘å™¨æ¨¡å¼ | `runEditorMode()` | main.cpp |
| å¤š Pass æ¸²æŸ“ | `MultiPassRenderer::render()` | MultiPassRenderer.cpp |
| Uniform ç®¡ç† | `UniformManager::applyUniforms()` | UniformManager.cpp |
| é…ç½®ä¿å­˜ | `ScreensaverMode::saveConfig()` | ScreensaverMode.cpp |
| ç€è‰²å™¨ç¼–è¯‘ | `ShaderEngine::compileShader()` | ShaderEngine.cpp |

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2026-02-04*
